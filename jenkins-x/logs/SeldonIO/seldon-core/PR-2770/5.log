
Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-credential-initializer-87zvh[0m
{"level":"info","ts":1609778915.941557,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1609778915.9432275,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-working-dir-initializer-bl2gd[0m
{"level":"info","ts":1609778917.4131904,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609778917.414818,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-create-dir-workspace-fg4cs[0m
{"level":"info","ts":1609778923.7333202,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609778923.736355,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-git-source-seldonio-seldon-core-pr-2770-pr-4t6xs-98ml5[0m
{"level":"info","ts":1609778924.160322,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1609778936.8860505,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/SeldonIO/seldon-core.git @ master in path /workspace/source"}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:73c2ad1f61b509ab056862ff8be829f19096d6eb,2770:730ea862d4624fb565c48b2bb12737c8f217e4fc
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git fetch origin --unshallow 730ea862d4624fb565c48b2bb12737c8f217e4fc: 73c2ad1f61b509ab056862ff8be829f19096d6eb:
DEBUG: ran git fetch --unshallow origin 730ea862d4624fb565c48b2bb12737c8f217e4fc: 73c2ad1f61b509ab056862ff8be829f19096d6eb: in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard 73c2ad1f61b509ab056862ff8be829f19096d6eb
DEBUG: ran git reset --hard 73c2ad1f61b509ab056862ff8be829f19096d6eb in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge 730ea862d4624fb565c48b2bb12737c8f217e4fc
DEBUG: ran git merge 730ea862d4624fb565c48b2bb12737c8f217e4fc in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 73c2ad1f61b509ab056862ff8be829f19096d6eb..HEAD
Merged SHA 730ea862d4624fb565c48b2bb12737c8f217e4fc with commit message 'Added gauge' into base branch master
Merged SHA 04a32bca03526b14fda54c84c39c81e30f5c15b9 with commit message 'Added od metrics to prometheus' into base branch master
Merged SHA c8db73510cc586d63aeff545c6d65ad210a605a5 with commit message 'Added constants for env' into base branch master

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-step2[0m
+++ dirname ./add-pr-build-comment
++ cd .
++ pwd
+ STARTUP_DIR=/workspace/source/ci
+ REPO_OWNER=SeldonIO
+ REPO_NAME=seldon-core
+ PULL_NUMBER=2770
+ BUILD_NUMBER=5
+ PIPELINE_CONTEXT=pr-build
++ cat
+++ date
+ COMMENT_MSG='Mon Jan  4 16:49:08 UTC 2021
The logs for [pr-build] [5] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2770/5.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2770 --build=5'
+ ** step pr comment --owner=SeldonIO --repository=seldon-core --pull-request=2770 '--comment=Mon Jan  4 16:49:08 UTC 2021
The logs for [pr-build] [5] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2770/5.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2770 --build=5'

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-source-mkdir-seldonio-seldon-core-pr-2770-pr-4t6xs-zfrw4[0m
{"level":"info","ts":1609778951.3559577,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609778951.4851387,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mpr-build-comment[0m and container [32mstep-source-copy-seldonio-seldon-core-pr-2770-pr-4t6xs-2mzk2[0m
{"level":"info","ts":1609778951.617751,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609778952.2025197,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r source/. /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-operator[0m and container [32mstep-credential-initializer-4sd5p[0m
{"level":"info","ts":1609778994.64282,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1609778994.643523,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-operator[0m and container [32mstep-working-dir-initializer-pdffd[0m
{"level":"info","ts":1609778995.7365718,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609778995.9137318,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-operator[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-operator[0m and container [32mstep-create-dir-workspace-fnhz8[0m
{"level":"info","ts":1609779011.0576406,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779011.0595202,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-operator[0m and container [32mstep-source-copy-workspace-5gn7w[0m
{"level":"info","ts":1609779011.9086726,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779012.794834,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-operator[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-operator[0m and container [32mstep-test-operator[0m
make: Entering directory '/workspace/source/operator'
go: creating new go.mod: module tmp
go: downloading sigs.k8s.io/controller-tools v0.2.9
go: found sigs.k8s.io/controller-tools/cmd/controller-gen in sigs.k8s.io/controller-tools v0.2.9
go: downloading github.com/spf13/cobra v0.0.5
go: downloading sigs.k8s.io/yaml v1.1.0
go: downloading k8s.io/api v0.17.0
go: downloading gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: downloading k8s.io/apiextensions-apiserver v0.17.0
go: downloading golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: downloading k8s.io/apimachinery v0.17.0
go: downloading github.com/fatih/color v1.7.0
go: downloading github.com/mattn/go-colorable v0.1.2
go: downloading github.com/gobuffalo/flect v0.2.0
go: downloading github.com/mattn/go-isatty v0.0.8
go: downloading github.com/spf13/pflag v1.0.5
go: downloading golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: downloading k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: downloading github.com/inconshreveable/mousetrap v1.0.0
go: downloading gopkg.in/yaml.v2 v2.2.4
go: downloading github.com/google/gofuzz v1.0.0
go: downloading k8s.io/klog v1.0.0
go: downloading gopkg.in/inf.v0 v0.9.1
go: downloading golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: downloading golang.org/x/text v0.3.2
/builder/home/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths="./..."
go fmt ./...
go vet ./...
go: downloading github.com/onsi/gomega v1.10.4
go: downloading github.com/onsi/ginkgo v1.14.1
go: downloading github.com/nxadm/tail v1.4.4
go: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
go: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1
/builder/home/go/bin/controller-gen "crd:trivialVersions=true" rbac:roleName=manager-role webhook paths="./..." output:crd:artifacts:config=config/crd/bases
rm -rf generated
mkdir generated
kustomize build config/default/ -o generated
cp generated/apiextensions.k8s.io_v1beta1_customresourcedefinition_seldondeployments.machinelearning.seldon.io.yaml testing/machinelearning.seldon.io_seldondeployments.yaml
ginkgo -r -outputdir=. -cover -coverprofile=cover.out ./controllers ./utils ./apis
[1609779197] [1mController Suite[0m - 64/64 specs test k8s client
&{Reader:0xc0001dffe0 Writer:0xc000a3f3b0 StatusClient:0xc000a3f3b0}
Failed to find config map seldon-config
the cache is not started, can not read objects

[90m------------------------------[0m
[91m[1mâ€¢! Panic [0.001 seconds][0m
[90mMLServer helpers [0m[0mmergeMLServerContainer [0m[91m[1m[It] should merge containers adding extra env [0m
[37m/workspace/source/operator/controllers/mlserver_test.go:47[0m

  [91m[1mTest Panicked[0m
  [91mruntime error: invalid memory address or nil pointer dereference[0m
  /usr/local/go/src/runtime/panic.go:212

  [91mFull Stack Trace[0m
  github.com/seldonio/seldon-core/operator/controllers.mergeMLServerContainer(0xc0011a42c0, 0x0, 0x34)
  	/workspace/source/operator/controllers/mlserver.go:27 +0x5c
  github.com/seldonio/seldon-core/operator/controllers.glob..func4.2.2()
  	/workspace/source/operator/controllers/mlserver_test.go:48 +0x53
  github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync(0xc0003bf7a0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/runner.go:113 +0xa3
  github.com/onsi/ginkgo/internal/leafnodes.(*runner).run(0xc0003bf7a0, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/runner.go:64 +0xcf
  github.com/onsi/ginkgo/internal/leafnodes.(*ItNode).Run(0xc000594ce0, 0x1dc8500, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/it_node.go:26 +0x64
  github.com/onsi/ginkgo/internal/spec.(*Spec).runSample(0xc0006cd680, 0x0, 0x1dc8500, 0xc0003747c0)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/spec/spec.go:215 +0x638
  github.com/onsi/ginkgo/internal/spec.(*Spec).Run(0xc0006cd680, 0x1dc8500, 0xc0003747c0)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/spec/spec.go:138 +0xf2
  github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec(0xc0008fec80, 0xc0006cd680, 0x0)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:200 +0x10f
  github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs(0xc0008fec80, 0x1)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:170 +0x120
  github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run(0xc0008fec80, 0xc000791a80)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:66 +0x117
  github.com/onsi/ginkgo/internal/suite.(*Suite).Run(0xc0003bddc0, 0x7f02de325080, 0xc00031e900, 0x1b44fbf, 0x10, 0xc0001de740, 0x2, 0x2, 0x1e1a3a0, 0xc0003747c0, ...)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/suite/suite.go:79 +0x586
  github.com/onsi/ginkgo.RunSpecsWithCustomReporters(0x1dc9b20, 0xc00031e900, 0x1b44fbf, 0x10, 0xc0001de700, 0x2, 0x2, 0x2)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/ginkgo_dsl.go:219 +0x217
  github.com/onsi/ginkgo.RunSpecsWithDefaultAndCustomReporters(0x1dc9b20, 0xc00031e900, 0x1b44fbf, 0x10, 0xc000523f60, 0x1, 0x1, 0x5ff34821)
  	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/ginkgo_dsl.go:207 +0xad
  github.com/seldonio/seldon-core/operator/controllers.TestAPIs(0xc00031e900)
  	/workspace/source/operator/controllers/suite_test.go:61 +0xcb
  testing.tRunner(0xc00031e900, 0x1bfa870)
  	/usr/local/go/src/testing/testing.go:1039 +0xdc
  created by testing.(*T).Run
  	/usr/local/go/src/testing/testing.go:1090 +0x372
[90m------------------------------[0m
2021-01-04T16:54:07.706Z	ERROR	seldondeployment	Failed to read prepacked model servers from configmap	{"error": "the cache is not started, can not read objects"}
github.com/go-logr/zapr.(*zapLogger).Error
	/builder/home/go/pkg/mod/github.com/go-logr/zapr@v0.1.1/zapr.go:128
github.com/seldonio/seldon-core/operator/apis/machinelearning.seldon.io/v1.getPrepackServerConfigWithRelated
	/workspace/source/operator/apis/machinelearning.seldon.io/v1/prepack.go:157
github.com/seldonio/seldon-core/operator/apis/machinelearning.seldon.io/v1.GetPrepackServerConfig
	/workspace/source/operator/apis/machinelearning.seldon.io/v1/prepack.go:169
github.com/seldonio/seldon-core/operator/controllers.getMLServerImage
	/workspace/source/operator/controllers/mlserver.go:129
github.com/seldonio/seldon-core/operator/controllers.getMLServerContainer
	/workspace/source/operator/controllers/mlserver.go:61
github.com/seldonio/seldon-core/operator/controllers.glob..func4.2.1
	/workspace/source/operator/controllers/mlserver_test.go:44
github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/runner.go:113
github.com/onsi/ginkgo/internal/leafnodes.(*runner).run
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/runner.go:64
github.com/onsi/ginkgo/internal/leafnodes.(*SetupNode).Run
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/setup_nodes.go:15
github.com/onsi/ginkgo/internal/spec.(*Spec).runSample
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/spec/spec.go:193
github.com/onsi/ginkgo/internal/spec.(*Spec).Run
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/spec/spec.go:138
github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:200
github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:170
github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:66
github.com/onsi/ginkgo/internal/suite.(*Suite).Run
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/suite/suite.go:79
github.com/onsi/ginkgo.RunSpecsWithCustomReporters
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/ginkgo_dsl.go:219
github.com/onsi/ginkgo.RunSpecsWithDefaultAndCustomReporters
	/builder/home/go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/ginkgo_dsl.go:207
github.com/seldonio/seldon-core/operator/controllers.TestAPIs
	/workspace/source/operator/controllers/suite_test.go:61
testing.tRunner
	/usr/local/go/src/testing/testing.go:1039
[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0m[32mâ€¢[0mE0104 16:54:30.781726   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1alpha3.VirtualService: Get "http://127.0.0.1:35957/apis/networking.istio.io/v1alpha3/virtualservices?allowWatchBookmarks=true&resourceVersion=122&timeoutSeconds=558&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.781753   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1.Deployment: Get "http://127.0.0.1:35957/apis/apps/v1/deployments?allowWatchBookmarks=true&resourceVersion=439&timeoutSeconds=408&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.781730   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1alpha1.ScaledObject: Get "http://127.0.0.1:35957/apis/keda.sh/v1alpha1/scaledobjects?allowWatchBookmarks=true&resourceVersion=286&timeoutSeconds=360&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.781733   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1.Namespace: Get "http://127.0.0.1:35957/api/v1/namespaces?allowWatchBookmarks=true&resourceVersion=426&timeoutSeconds=471&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.781767   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1.SeldonDeployment: Get "http://127.0.0.1:35957/apis/machinelearning.seldon.io/v1/seldondeployments?allowWatchBookmarks=true&resourceVersion=445&timeoutSeconds=387&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.781875   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v2beta1.HorizontalPodAutoscaler: Get "http://127.0.0.1:35957/apis/autoscaling/v2beta1/horizontalpodautoscalers?allowWatchBookmarks=true&resourceVersion=322&timeoutSeconds=365&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.781930   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1.Service: Get "http://127.0.0.1:35957/api/v1/services?allowWatchBookmarks=true&resourceVersion=435&timeoutSeconds=525&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.782169   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1.ConfigMap: Get "http://127.0.0.1:35957/api/v1/configmaps?allowWatchBookmarks=true&resourceVersion=122&timeoutSeconds=389&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused
E0104 16:54:30.782494   22991 reflector.go:383] pkg/mod/k8s.io/client-go@v0.18.8/tools/cache/reflector.go:125: Failed to watch *v1beta1.PodDisruptionBudget: Get "http://127.0.0.1:35957/apis/policy/v1beta1/poddisruptionbudgets?allowWatchBookmarks=true&resourceVersion=208&timeoutSeconds=503&watch=true": dial tcp 127.0.0.1:35957: connect: connection refused



[91m[1mSummarizing 1 Failure:[0m

[91m[1m[Panic!] [0m[90mMLServer helpers [0m[0mmergeMLServerContainer [0m[91m[1m[It] should merge containers adding extra env [0m
[37m/usr/local/go/src/runtime/panic.go:212[0m

[1m[91mRan 64 of 64 Specs in 37.512 seconds[0m
[1m[91mFAIL![0m -- [32m[1m63 Passed[0m | [91m[1m1 Failed[0m | [33m[1m0 Pending[0m | [36m[1m0 Skipped[0m
--- FAIL: TestAPIs (37.52s)
FAIL
coverage: 66.6% of statements
path is /workspace/source/operator
Unable to read coverage file  to combine, open : no such file or directory

Ginkgo ran 1 suite in 1m13.202089152s
Test Suite Failed
make: *** [Makefile:37: test] Error 1
make: Leaving directory '/workspace/source/operator'
[31m
Pipeline failed on stage 'seldon-operator' : container 'step-test-operator'. The execution of the pipeline has stopped.[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mtest-python[0m and container [32mstep-credential-initializer-dfbt8[0m
{"level":"info","ts":1609778995.5946748,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1609778995.5978487,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mtest-python[0m and container [32mstep-working-dir-initializer-dnwrv[0m
{"level":"info","ts":1609779000.3639865,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779000.3654764,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mtest-python[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mtest-python[0m and container [32mstep-create-dir-workspace-t8xrl[0m
{"level":"info","ts":1609779013.0285316,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779013.030224,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mtest-python[0m and container [32mstep-source-copy-workspace-zb58l[0m
{"level":"info","ts":1609779013.8667026,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779016.1205263,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mtest-python[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mtest-python[0m and container [32mstep-test-python[0m
make: Entering directory '/workspace/source/python'
# Protobuf
cp ../proto/prediction.proto seldon_core/proto/
make -C ../proto/tensorflow/ create_protos
make[1]: Entering directory '/workspace/source/proto/tensorflow'
./create-protos.sh
Downloading proto files for master
make[1]: Leaving directory '/workspace/source/proto/tensorflow'
cp -r ../proto/tensorflow/tensorflow \
	seldon_core/proto/
make -C ../proto/tensorflow clean
make[1]: Entering directory '/workspace/source/proto/tensorflow'
removed 'tensorflow/core/framework/resource_handle.proto'
removed 'tensorflow/core/framework/tensor_shape.proto'
removed 'tensorflow/core/framework/types.proto'
removed 'tensorflow/core/framework/tensor.proto'
removed directory 'tensorflow/core/framework'
removed directory 'tensorflow/core'
removed directory 'tensorflow'
make[1]: Leaving directory '/workspace/source/proto/tensorflow'
# OpenAPI
cp ../openapi/wrapper.oas3.json seldon_core/openapi/seldon.json
# Protobuf
cd seldon_core && python \
	-m grpc.tools.protoc \
	-I./ \
	-I./proto/ \
	--python_out=./ \
	--grpc_python_out=./ \
	--mypy_out=./ \
	./proto/prediction.proto
Writing mypy to proto/prediction_pb2.pyi
## We build TF's protobufs as well in case the tensorflow package
## is not found
cd seldon_core/proto && python \
	-m grpc.tools.protoc \
	-I./ \
	-I../ \
	--python_out=./ \
	./tensorflow/core/framework/*.proto
sed -i "s/from tensorflow/from seldon_core.proto.tensorflow/" seldon_core/proto/*.py
sed -i "s/from tensorflow.core.framework/from ./" \
	seldon_core/proto/tensorflow/core/framework/resource_handle_pb2.py seldon_core/proto/tensorflow/core/framework/tensor_pb2.py seldon_core/proto/tensorflow/core/framework/tensor_shape_pb2.py seldon_core/proto/tensorflow/core/framework/types_pb2.py
sed -i "s/from proto/from seldon_core.proto/g" seldon_core/proto/prediction_pb2_grpc.py
sed -i 's/__version__ = .*/__version__ = "1.6.0-dev"/g' seldon_core/version.py
pip install -e . -r requirements-dev.txt
Obtaining file:///workspace/source/python
Collecting black==20.8b1 (from -r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/dc/7b/5a6bbe89de849f28d7c109f5ea87b65afa5124ad615f3419e71beb29dc96/black-20.8b1.tar.gz (1.1MB)
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
Collecting flake8==3.8.1 (from -r requirements-dev.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/bf/47/36e51603431e1a5289eb41636199d2c225fcb1ca286e29c02d219c8e6e88/flake8-3.8.1-py2.py3-none-any.whl (72kB)
Collecting mypy<0.791 (from -r requirements-dev.txt (line 4))
  Downloading https://files.pythonhosted.org/packages/3a/b0/aa475e0458f36a4ca467a7dade31a481691d6f621546ec01a043b0ef5d70/mypy-0.790-cp37-cp37m-manylinux1_x86_64.whl (21.0MB)
Collecting Pillow==8.1.0 (from -r requirements-dev.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/eb/8e/d2f7a67cf8da9b83c1e3ee38dbf49448f3c8acb2cb38f76e4301f4a70223/Pillow-8.1.0-cp37-cp37m-manylinux1_x86_64.whl (2.2MB)
Collecting pytest==6.2.0 (from -r requirements-dev.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/57/ab/969446024b65731fb00ce57cb0f9c3eca5d3485b9f9a3a3662721fa09bc3/pytest-6.2.0-py3-none-any.whl (279kB)
Collecting pytest-cov==2.10.1 (from -r requirements-dev.txt (line 7))
  Downloading https://files.pythonhosted.org/packages/e5/18/401594af67eda194a8b9167208621761927c937db7d60292608342bbac0a/pytest_cov-2.10.1-py2.py3-none-any.whl
Collecting tox<4.0.0 (from -r requirements-dev.txt (line 8))
  Downloading https://files.pythonhosted.org/packages/e0/79/5915b9dad867e89bb6495456acfe5d4e2287e74dfa29c059f7b127d5480e/tox-3.20.1-py2.py3-none-any.whl (83kB)
Collecting grpcio-tools==1.33.2 (from -r requirements-dev.txt (line 9))
  Downloading https://files.pythonhosted.org/packages/78/f6/3817a1682319aea1d5fede62796ff75d529bbd0f01ab5fd164df3d01fe1b/grpcio-tools-1.33.2.tar.gz (2.1MB)
Collecting mypy-protobuf==1.22 (from -r requirements-dev.txt (line 10))
  Downloading https://files.pythonhosted.org/packages/ec/9c/36adfc9a4aee35f8c6ae45f91cb3ef2e041e4c9ef6be1401e369f46c47c6/mypy_protobuf-1.22-py3-none-any.whl
Collecting tenacity==6.2.0 (from -r requirements-dev.txt (line 13))
  Downloading https://files.pythonhosted.org/packages/b5/05/ff089032442058bd3386f9cd991cd88ccac81dca1494d78751621ee35e62/tenacity-6.2.0-py2.py3-none-any.whl
Collecting coverage==5.3 (from -r requirements-dev.txt (line 16))
  Downloading https://files.pythonhosted.org/packages/f9/67/cf7584c4fe27083710d3e43ffa26219b1e178a8bf506a762c76baf4937d6/coverage-5.3-cp37-cp37m-manylinux1_x86_64.whl (229kB)
Collecting pandas==1.2.0 (from -r requirements-dev.txt (line 19))
  Downloading https://files.pythonhosted.org/packages/ff/bd/fb376f9fbad92b9a6efdbb30ff32c80f3cba1368689309cbb5566364af5c/pandas-1.2.0-cp37-cp37m-manylinux1_x86_64.whl (9.9MB)
Collecting pip-licenses==3.1.0 (from -r requirements-dev.txt (line 22))
  Downloading https://files.pythonhosted.org/packages/54/e5/c3b6dec449a5dc7f4483123c5d3fba1fc325cc319fb391ea829b696a7da1/pip_licenses-3.1.0-py3-none-any.whl
Collecting Flask<2.0.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/f2/28/2a03252dfb9ebf377f40fba6a7841b47083260bf8bd8e737b0c6952df83f/Flask-1.1.2-py2.py3-none-any.whl (94kB)
Collecting jsonschema<4.0.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/c5/8f/51e89ce52a085483359217bc72cdbf6e75ee595d5b1d4b5ade40c7e018b8/jsonschema-3.2.0-py2.py3-none-any.whl (56kB)
Collecting Flask-cors<4.0.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/69/7f/d0aeaaafb5c3c76c8d2141dbe2d4f6dca5d6c31872d4e5349768c1958abc/Flask_Cors-3.0.9-py2.py3-none-any.whl
Collecting redis<4.0.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/a7/7c/24fb0511df653cf1a5d938d8f5d19802a88cef255706fdda242ff97e91b7/redis-3.5.3-py2.py3-none-any.whl (72kB)
Requirement already satisfied: requests<3.0.0 in /opt/conda/lib/python3.7/site-packages (from seldon-core==1.6.0.dev0) (2.21.0)
Collecting numpy<2.0.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/5e/f2/9e562074f835b9b1227ca156f787be4554ae6bbe293c064337c4153cc4c8/numpy-1.19.4-cp37-cp37m-manylinux1_x86_64.whl (13.4MB)
Requirement already satisfied: flatbuffers<2.0.0 in /opt/conda/lib/python3.7/site-packages (from seldon-core==1.6.0.dev0) (1.11)
Requirement already satisfied: protobuf<4.0.0 in /opt/conda/lib/python3.7/site-packages (from seldon-core==1.6.0.dev0) (3.7.1)
Requirement already satisfied: grpcio<2.0.0 in /opt/conda/lib/python3.7/site-packages (from seldon-core==1.6.0.dev0) (1.20.1)
Collecting Flask-OpenTracing<1.2.0,>=1.1.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/58/6c/6417701ba5ecc8854670c6db3207bcc3e5fbc96289a7cb18d5516d99a1c6/Flask-OpenTracing-1.1.0.tar.gz
Collecting opentracing<2.5.0,>=2.2.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/51/28/2dba4e3efb64cc59d4311081a5ddad1dde20a19b69cd0f677cdb2f2c29a6/opentracing-2.4.0.tar.gz (46kB)
Collecting jaeger-client<4.4.0,>=4.1.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/2b/75/17a937a61135671cebc175ab5c299dc0f7477042469482fd9a6f91262c68/jaeger-client-4.3.0.tar.gz (81kB)
Collecting grpcio-opentracing<1.2.0,>=1.1.4 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/db/82/2fcad380697c3dab25de76ee590bcab3eb9bbfb4add916044d7e83ec2b10/grpcio_opentracing-1.1.4-py3-none-any.whl
Collecting grpcio-reflection<1.35.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/78/3e/fb4d8046da12e55ee6eb569e25089a9ec839c90082c8e3986fc81891cb20/grpcio-reflection-1.34.0.tar.gz
Collecting PyYAML<5.4 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/64/c2/b80047c7ac2478f9501676c988a5411ed5572f35d1beff9cae07d321512c/PyYAML-5.3.1.tar.gz (269kB)
Collecting gunicorn<20.1.0,>=19.9.0 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/69/ca/926f7cd3a2014b16870086b2d0fdc84a9e49473c68a8dff8b57f7c156f43/gunicorn-20.0.4-py2.py3-none-any.whl (77kB)
Collecting setuptools>=41.0.0 (from seldon-core==1.6.0.dev0)
  Using cached https://files.pythonhosted.org/packages/34/b6/33396512781ec5c40de2e70e8a68f2d0c4d91d6cc182410788c34a00002d/setuptools-51.1.1-py3-none-any.whl
Collecting prometheus_client<0.9.0,>=0.7.1 (from seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/3f/0e/554a265ffdc56e1494ef08e18f765b0cdec78797f510c58c45cf37abb4f4/prometheus_client-0.8.0-py2.py3-none-any.whl (53kB)
Collecting click>=7.1.2 (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/d2/3d/fa76db83bf75c4f8d338c2fd15c8d33fdd7ad23a9b5e57eb6c5de26b430e/click-7.1.2-py2.py3-none-any.whl (82kB)
Collecting appdirs (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/3b/00/2344469e2084fb287c2e0b57b72910309874c3245463acd6cf5e3db69324/appdirs-1.4.4-py2.py3-none-any.whl
Collecting toml>=0.10.1 (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/44/6f/7120676b6d73228c96e17f1f794d8ab046fc910d781c8d151120c3f1569e/toml-0.10.2-py2.py3-none-any.whl
Collecting typed-ast>=1.4.0 (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/3f/76/04c8d23cf9da13b6c892055148cdabb79d8d835dd816d09d529c1c615b20/typed_ast-1.4.2-cp37-cp37m-manylinux1_x86_64.whl (743kB)
Collecting regex>=2020.1.8 (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/ea/e1/e046de6981d5b97d110b2bfeaed7129e3e3a0bda057f4ef215c33f84c27c/regex-2020.11.13-cp37-cp37m-manylinux1_x86_64.whl (667kB)
Collecting pathspec<1,>=0.6 (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/29/29/a465741a3d97ea3c17d21eaad4c64205428bde56742360876c4391f930d4/pathspec-0.8.1-py2.py3-none-any.whl
Collecting typing_extensions>=3.7.4 (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/60/7a/e881b5abb54db0e6e671ab088d079c57ce54e8a01a3ca443f561ccadb37e/typing_extensions-3.7.4.3-py3-none-any.whl
Collecting mypy_extensions>=0.4.3 (from black==20.8b1->-r requirements-dev.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/5c/eb/975c7c080f3223a5cdaff09612f3a5221e4ba534f7039db34c35d95fa6a5/mypy_extensions-0.4.3-py2.py3-none-any.whl
Collecting mccabe<0.7.0,>=0.6.0 (from flake8==3.8.1->-r requirements-dev.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/87/89/479dc97e18549e21354893e4ee4ef36db1d237534982482c3681ee6e7b57/mccabe-0.6.1-py2.py3-none-any.whl
Collecting pyflakes<2.3.0,>=2.2.0 (from flake8==3.8.1->-r requirements-dev.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/69/5b/fd01b0c696f2f9a6d2c839883b642493b431f28fa32b29abc465ef675473/pyflakes-2.2.0-py2.py3-none-any.whl (66kB)
Collecting importlib-metadata; python_version < "3.8" (from flake8==3.8.1->-r requirements-dev.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/7a/85/ac225e35048e050a6351b6f1251cdb2b6060092f2c6840aff1d6319941b1/importlib_metadata-3.3.0-py3-none-any.whl
Collecting pycodestyle<2.7.0,>=2.6.0a1 (from flake8==3.8.1->-r requirements-dev.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/10/5b/88879fb861ab79aef45c7e199cae3ef7af487b5603dcb363517a50602dd7/pycodestyle-2.6.0-py2.py3-none-any.whl (41kB)
Collecting attrs>=19.2.0 (from pytest==6.2.0->-r requirements-dev.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/c3/aa/cb45262569fcc047bf070b5de61813724d6726db83259222cd7b4c79821a/attrs-20.3.0-py2.py3-none-any.whl (49kB)
Collecting iniconfig (from pytest==6.2.0->-r requirements-dev.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/9b/dd/b3c12c6d707058fa947864b67f0c4e0c39ef8610988d7baea9578f3c48f3/iniconfig-1.1.1-py2.py3-none-any.whl
Collecting py>=1.8.2 (from pytest==6.2.0->-r requirements-dev.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/67/32/6fe01cfc3d1a27c92fdbcdfc3f67856da8cbadf0dd9f2e18055202b2dc62/py-1.10.0-py2.py3-none-any.whl (97kB)
Collecting pluggy<1.0.0a1,>=0.12 (from pytest==6.2.0->-r requirements-dev.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/a0/28/85c7aa31b80d150b772fbe4a229487bc6644da9ccb7e427dd8cc60cb8a62/pluggy-0.13.1-py2.py3-none-any.whl
Collecting packaging (from pytest==6.2.0->-r requirements-dev.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/b1/a7/588bfa063e7763247ab6f7e1d994e331b85e0e7d09f853c59a6eb9696974/packaging-20.8-py2.py3-none-any.whl
Collecting virtualenv!=20.0.0,!=20.0.1,!=20.0.2,!=20.0.3,!=20.0.4,!=20.0.5,!=20.0.6,!=20.0.7,>=16.0.0 (from tox<4.0.0->-r requirements-dev.txt (line 8))
  Downloading https://files.pythonhosted.org/packages/1a/c6/bb564f5eec616d241e85d741f00a07f5f50ea12989022ad49bc66876993c/virtualenv-20.2.2-py2.py3-none-any.whl (5.7MB)
Collecting filelock>=3.0.0 (from tox<4.0.0->-r requirements-dev.txt (line 8))
  Downloading https://files.pythonhosted.org/packages/93/83/71a2ee6158bb9f39a90c0dea1637f81d5eef866e188e1971a1b1ab01a35a/filelock-3.0.12-py3-none-any.whl
Collecting six>=1.14.0 (from tox<4.0.0->-r requirements-dev.txt (line 8))
  Downloading https://files.pythonhosted.org/packages/ee/ff/48bde5c0f013094d729fe4b0316ba2a24774b3ff1c52d924a8a4cb04078a/six-1.15.0-py2.py3-none-any.whl
Collecting python-dateutil>=2.7.3 (from pandas==1.2.0->-r requirements-dev.txt (line 19))
  Downloading https://files.pythonhosted.org/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl (227kB)
Collecting pytz>=2017.3 (from pandas==1.2.0->-r requirements-dev.txt (line 19))
  Downloading https://files.pythonhosted.org/packages/89/06/2c2d3034b4d6bf22f2a4ae546d16925898658a33b4400cfb7e2c1e2871a3/pytz-2020.5-py2.py3-none-any.whl (510kB)
Collecting PTable (from pip-licenses==3.1.0->-r requirements-dev.txt (line 22))
  Downloading https://files.pythonhosted.org/packages/ab/b3/b54301811173ca94119eb474634f120a49cd370f257d1aae5a4abaf12729/PTable-0.9.2.tar.gz
Collecting itsdangerous>=0.24 (from Flask<2.0.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/76/ae/44b03b253d6fade317f32c24d100b3b35c2239807046a4c953c7b89fa49e/itsdangerous-1.1.0-py2.py3-none-any.whl
Collecting Werkzeug>=0.15 (from Flask<2.0.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/cc/94/5f7079a0e00bd6863ef8f1da638721e9da21e5bacee597595b318f71d62e/Werkzeug-1.0.1-py2.py3-none-any.whl (298kB)
Collecting Jinja2>=2.10.1 (from Flask<2.0.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/30/9e/f663a2aa66a09d838042ae1a2c5659828bb9b41ea3a6efa20a20fd92b121/Jinja2-2.11.2-py2.py3-none-any.whl (125kB)
Collecting pyrsistent>=0.14.0 (from jsonschema<4.0.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/4d/70/fd441df751ba8b620e03fd2d2d9ca902103119616f0f6cc42e6405035062/pyrsistent-0.17.3.tar.gz (106kB)
Requirement already satisfied: certifi>=2017.4.17 in /opt/conda/lib/python3.7/site-packages (from requests<3.0.0->seldon-core==1.6.0.dev0) (2018.11.29)
Requirement already satisfied: urllib3<1.25,>=1.21.1 in /opt/conda/lib/python3.7/site-packages (from requests<3.0.0->seldon-core==1.6.0.dev0) (1.24.1)
Requirement already satisfied: idna<2.9,>=2.5 in /opt/conda/lib/python3.7/site-packages (from requests<3.0.0->seldon-core==1.6.0.dev0) (2.8)
Requirement already satisfied: chardet<3.1.0,>=3.0.2 in /opt/conda/lib/python3.7/site-packages (from requests<3.0.0->seldon-core==1.6.0.dev0) (3.0.4)
Collecting threadloop<2,>=1 (from jaeger-client<4.4.0,>=4.1.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/d3/1d/8398c1645b97dc008d3c658e04beda01ede3d90943d40c8d56863cf891bd/threadloop-1.0.2.tar.gz
Collecting thrift (from jaeger-client<4.4.0,>=4.1.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/97/1e/3284d19d7be99305eda145b8aa46b0c33244e4a496ec66440dac19f8274d/thrift-0.13.0.tar.gz (59kB)
Collecting tornado>=4.3 (from jaeger-client<4.4.0,>=4.1.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/bf/fa/2befee379094720b54065daa9c6117f3edb7d35f86cde0f50b3a28ecfadf/tornado-6.1-cp37-cp37m-manylinux1_x86_64.whl (428kB)
Collecting zipp>=0.5 (from importlib-metadata; python_version < "3.8"->flake8==3.8.1->-r requirements-dev.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/41/ad/6a4f1a124b325618a7fb758b885b68ff7b058eec47d9220a12ab38d90b1f/zipp-3.4.0-py3-none-any.whl
Collecting pyparsing>=2.0.2 (from packaging->pytest==6.2.0->-r requirements-dev.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/8a/bb/488841f56197b13700afd5658fc279a2025a39e22449b7cf29864669b15d/pyparsing-2.4.7-py2.py3-none-any.whl (67kB)
Collecting distlib<1,>=0.3.1 (from virtualenv!=20.0.0,!=20.0.1,!=20.0.2,!=20.0.3,!=20.0.4,!=20.0.5,!=20.0.6,!=20.0.7,>=16.0.0->tox<4.0.0->-r requirements-dev.txt (line 8))
  Downloading https://files.pythonhosted.org/packages/f5/0a/490fa011d699bb5a5f3a0cf57de82237f52a6db9d40f33c53b2736c9a1f9/distlib-0.3.1-py2.py3-none-any.whl (335kB)
Collecting MarkupSafe>=0.23 (from Jinja2>=2.10.1->Flask<2.0.0->seldon-core==1.6.0.dev0)
  Downloading https://files.pythonhosted.org/packages/98/7b/ff284bd8c80654e471b769062a9b43cc5d03e7a615048d96f4619df8d420/MarkupSafe-1.1.1-cp37-cp37m-manylinux1_x86_64.whl
Building wheels for collected packages: black, grpcio-tools, Flask-OpenTracing, opentracing, jaeger-client, grpcio-reflection, PyYAML, PTable, pyrsistent, threadloop, thrift
  Running setup.py bdist_wheel for black: started
  Running setup.py bdist_wheel for black: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/6e/10/b5/edf7359c2edd0305cce7e3f96e07daf7ce55dceac9d3ce3373
  Running setup.py bdist_wheel for grpcio-tools: started
  Running setup.py bdist_wheel for grpcio-tools: still running...
  Running setup.py bdist_wheel for grpcio-tools: still running...
  Running setup.py bdist_wheel for grpcio-tools: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/73/f0/4c/17337f3cbf7d0c3eb19150ed15d808a9cee035ad201926fcb8
  Running setup.py bdist_wheel for Flask-OpenTracing: started
  Running setup.py bdist_wheel for Flask-OpenTracing: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/7b/dc/25/3cf0b35c129232ee596c413f13d1d1f5a8e38c427266276dfd
  Running setup.py bdist_wheel for opentracing: started
  Running setup.py bdist_wheel for opentracing: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/27/b6/a0/d0309988a0dd5623c34469b151e4d7b0e6271b28a8bcccb440
  Running setup.py bdist_wheel for jaeger-client: started
  Running setup.py bdist_wheel for jaeger-client: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/a4/46/e1/316c9ea87f46b9685c2f4258950a27bad1ae072c56224e4489
  Running setup.py bdist_wheel for grpcio-reflection: started
  Running setup.py bdist_wheel for grpcio-reflection: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/ce/06/d1/6cceecc6275036cb167376a4846fcd2d5b97fe36566bb67b10
  Running setup.py bdist_wheel for PyYAML: started
  Running setup.py bdist_wheel for PyYAML: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/a7/c1/ea/cf5bd31012e735dc1dfea3131a2d5eae7978b251083d6247bd
  Running setup.py bdist_wheel for PTable: started
  Running setup.py bdist_wheel for PTable: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/22/cc/2e/55980bfe86393df3e9896146a01f6802978d09d7ebcba5ea56
  Running setup.py bdist_wheel for pyrsistent: started
  Running setup.py bdist_wheel for pyrsistent: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/f0/b8/de/b593ad311be4eb458499d100db081e453576032272398b7ddc
  Running setup.py bdist_wheel for threadloop: started
  Running setup.py bdist_wheel for threadloop: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/d7/7a/30/d212623a4cd34f6cce400f8122b1b7af740d3440c68023d51f
  Running setup.py bdist_wheel for thrift: started
  Running setup.py bdist_wheel for thrift: finished with status 'done'
  Stored in directory: /builder/home/.cache/pip/wheels/02/a2/46/689ccfcf40155c23edc7cdbd9de488611c8fdf49ff34b1706e
Successfully built black grpcio-tools Flask-OpenTracing opentracing jaeger-client grpcio-reflection PyYAML PTable pyrsistent threadloop thrift
grpcio-tools 1.33.2 has requirement grpcio>=1.33.2, but you'll have grpcio 1.20.1 which is incompatible.
tox 3.20.1 has requirement importlib-metadata<3,>=0.12; python_version < "3.8", but you'll have importlib-metadata 3.3.0 which is incompatible.
grpcio-reflection 1.34.0 has requirement grpcio>=1.34.0, but you'll have grpcio 1.20.1 which is incompatible.
Installing collected packages: click, appdirs, toml, typed-ast, regex, pathspec, typing-extensions, mypy-extensions, black, mccabe, pyflakes, zipp, importlib-metadata, pycodestyle, flake8, mypy, Pillow, attrs, iniconfig, py, pluggy, pyparsing, packaging, pytest, coverage, pytest-cov, distlib, six, filelock, virtualenv, tox, grpcio-tools, mypy-protobuf, tenacity, python-dateutil, pytz, numpy, pandas, PTable, pip-licenses, itsdangerous, Werkzeug, MarkupSafe, Jinja2, Flask, pyrsistent, setuptools, jsonschema, Flask-cors, redis, opentracing, Flask-OpenTracing, tornado, threadloop, thrift, jaeger-client, grpcio-opentracing, grpcio-reflection, PyYAML, gunicorn, prometheus-client, seldon-core
  Found existing installation: six 1.12.0
    Uninstalling six-1.12.0:
      Successfully uninstalled six-1.12.0
  Found existing installation: grpcio-tools 1.20.1
    Uninstalling grpcio-tools-1.20.1:
      Successfully uninstalled grpcio-tools-1.20.1
  Found existing installation: mypy-protobuf 1.10
    Uninstalling mypy-protobuf-1.10:
      Successfully uninstalled mypy-protobuf-1.10
  Found existing installation: setuptools 40.6.3
    Uninstalling setuptools-40.6.3:
      Successfully uninstalled setuptools-40.6.3
  Running setup.py develop for seldon-core
Successfully installed Flask-1.1.2 Flask-OpenTracing-1.1.0 Flask-cors-3.0.9 Jinja2-2.11.2 MarkupSafe-1.1.1 PTable-0.9.2 Pillow-8.1.0 PyYAML-5.3.1 Werkzeug-1.0.1 appdirs-1.4.4 attrs-20.3.0 black-20.8b1 click-7.1.2 coverage-5.3 distlib-0.3.1 filelock-3.0.12 flake8-3.8.1 grpcio-opentracing-1.1.4 grpcio-reflection-1.34.0 grpcio-tools-1.33.2 gunicorn-20.0.4 importlib-metadata-3.3.0 iniconfig-1.1.1 itsdangerous-1.1.0 jaeger-client-4.3.0 jsonschema-3.2.0 mccabe-0.6.1 mypy-0.790 mypy-extensions-0.4.3 mypy-protobuf-1.22 numpy-1.19.4 opentracing-2.4.0 packaging-20.8 pandas-1.2.0 pathspec-0.8.1 pip-licenses-3.1.0 pluggy-0.13.1 prometheus-client-0.8.0 py-1.10.0 pycodestyle-2.6.0 pyflakes-2.2.0 pyparsing-2.4.7 pyrsistent-0.17.3 pytest-6.2.0 pytest-cov-2.10.1 python-dateutil-2.8.1 pytz-2020.5 redis-3.5.3 regex-2020.11.13 seldon-core setuptools-51.1.1 six-1.15.0 tenacity-6.2.0 threadloop-1.0.2 thrift-0.13.0 toml-0.10.2 tornado-6.1 tox-3.20.1 typed-ast-1.4.2 typing-extensions-3.7.4.3 virtualenv-20.2.2 zipp-3.4.0
tox
GLOB sdist-make: /workspace/source/python/setup.py
py3 create: /workspace/source/python/.tox/py3
py3 installdeps: -r/workspace/source/python/requirements-dev.txt
py3 inst: /workspace/source/python/.tox/.tmp/package/1/seldon-core-1.6.0.dev0.zip
py3 installed: appdirs==1.4.4,attrs==20.3.0,black==20.8b1,certifi==2020.12.5,chardet==4.0.0,click==7.1.2,coverage==5.3,distlib==0.3.1,filelock==3.0.12,flake8==3.8.1,Flask==1.1.2,Flask-Cors==3.0.9,Flask-OpenTracing==1.1.0,flatbuffers==1.12,grpcio==1.34.0,grpcio-opentracing==1.1.4,grpcio-reflection==1.34.0,grpcio-tools==1.33.2,gunicorn==20.0.4,idna==2.10,importlib-metadata==2.1.1,iniconfig==1.1.1,itsdangerous==1.1.0,jaeger-client==4.3.0,Jinja2==2.11.2,jsonschema==3.2.0,MarkupSafe==1.1.1,mccabe==0.6.1,mypy==0.790,mypy-extensions==0.4.3,mypy-protobuf==1.22,numpy==1.19.4,opentracing==2.4.0,packaging==20.8,pandas==1.2.0,pathspec==0.8.1,Pillow==8.1.0,pip-licenses==3.1.0,pluggy==0.13.1,prometheus-client==0.8.0,protobuf==3.14.0,PTable==0.9.2,py==1.10.0,pycodestyle==2.6.0,pyflakes==2.2.0,pyparsing==2.4.7,pyrsistent==0.17.3,pytest==6.2.0,pytest-cov==2.10.1,python-dateutil==2.8.1,pytz==2020.5,PyYAML==5.3.1,redis==3.5.3,regex==2020.11.13,requests==2.25.1,seldon-core @ file:///workspace/source/python/.tox/.tmp/package/1/seldon-core-1.6.0.dev0.zip,six==1.15.0,tenacity==6.2.0,threadloop==1.0.2,thrift==0.13.0,toml==0.10.2,tornado==6.1,tox==3.20.1,typed-ast==1.4.2,typing-extensions==3.7.4.3,urllib3==1.26.2,virtualenv==20.2.2,Werkzeug==1.0.1,zipp==3.4.0
py3 run-test-pre: PYTHONHASHSEED='2540917691'
py3 run-test: commands[0] | pytest
============================= test session starts ==============================
platform linux -- Python 3.7.1, pytest-6.2.0, py-1.10.0, pluggy-0.13.1
cachedir: .tox/py3/.pytest_cache
rootdir: /workspace/source/python, configfile: setup.cfg
plugins: cov-2.10.1
collected 392 items

tests/test_api_tester.py ..                                              [  0%]
tests/test_application_exception_microservice.py ..                      [  1%]
tests/test_combiner_microservice.py .....................                [  6%]
tests/test_flask_utils.py ...                                            [  7%]
tests/test_metadata.py ................................................. [ 19%]
...                                                                      [ 20%]
tests/test_metrics.py .................................................. [ 33%]
...................                                                      [ 38%]
tests/test_microservice.py .............                                 [ 41%]
tests/test_microservice_tester.py .....                                  [ 42%]
tests/test_model_microservice.py ...................s................... [ 52%]
...s........                                                             [ 55%]
tests/test_router_microservice.py .................                      [ 59%]
tests/test_runtime_metrics_tags.py .........................             [ 66%]
tests/test_seldon_client.py ..................................           [ 75%]
tests/test_storage.py ......                                             [ 76%]
tests/test_transformer_microservice.py ................................. [ 84%]
........                                                                 [ 86%]
tests/test_user_model.py ....                                            [ 88%]
tests/test_utils.py ..............................sss..............      [100%]

----------- coverage: platform linux, python 3.7.1-final-0 -----------
Name                                                                                                      Stmts   Miss  Cover
-----------------------------------------------------------------------------------------------------------------------------
.tox/py3/lib/python3.7/site-packages/seldon_core/__init__.py                                                  2      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/api_tester.py                                               70     70     0%
.tox/py3/lib/python3.7/site-packages/seldon_core/app.py                                                      49     31    37%
.tox/py3/lib/python3.7/site-packages/seldon_core/batch_processor.py                                         147    147     0%
.tox/py3/lib/python3.7/site-packages/seldon_core/flask_utils.py                                              53     39    26%
.tox/py3/lib/python3.7/site-packages/seldon_core/imports_helper.py                                           11      1    91%
.tox/py3/lib/python3.7/site-packages/seldon_core/metadata.py                                                 32     11    66%
.tox/py3/lib/python3.7/site-packages/seldon_core/metrics.py                                                 139     77    45%
.tox/py3/lib/python3.7/site-packages/seldon_core/microservice.py                                            210     83    60%
.tox/py3/lib/python3.7/site-packages/seldon_core/microservice_tester.py                                     140    140     0%
.tox/py3/lib/python3.7/site-packages/seldon_core/mlmd_utils.py                                                0      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/persistence.py                                              45     23    49%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/__init__.py                                            0      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/prediction_pb2.py                                    165      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/prediction_pb2_grpc.py                               137     89    35%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/tensorflow/core/framework/__init__.py                  3      1    67%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/tensorflow/core/framework/resource_handle_pb2.py      22      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/tensorflow/core/framework/tensor_pb2.py               36      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/tensorflow/core/framework/tensor_shape_pb2.py         18      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/proto/tensorflow/core/framework/types_pb2.py                69      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/seldon_client.py                                           593    593     0%
.tox/py3/lib/python3.7/site-packages/seldon_core/seldon_methods.py                                          245    223     9%
.tox/py3/lib/python3.7/site-packages/seldon_core/serving_test_gen.py                                         40     40     0%
.tox/py3/lib/python3.7/site-packages/seldon_core/storage.py                                                  38     28    26%
.tox/py3/lib/python3.7/site-packages/seldon_core/user_model.py                                              182    129    29%
.tox/py3/lib/python3.7/site-packages/seldon_core/utils.py                                                   321    272    15%
.tox/py3/lib/python3.7/site-packages/seldon_core/version.py                                                   1      0   100%
.tox/py3/lib/python3.7/site-packages/seldon_core/wrapper.py                                                 155    123    21%
seldon_core/__init__.py                                                                                       2      0   100%
seldon_core/api_tester.py                                                                                    70     29    59%
seldon_core/app.py                                                                                           49     31    37%
seldon_core/batch_processor.py                                                                              147    147     0%
seldon_core/flask_utils.py                                                                                   53      6    89%
seldon_core/imports_helper.py                                                                                11      1    91%
seldon_core/metadata.py                                                                                      32      0   100%
seldon_core/metrics.py                                                                                      139      2    99%
seldon_core/microservice.py                                                                                 210    122    42%
seldon_core/microservice_tester.py                                                                          140     43    69%
seldon_core/mlmd_utils.py                                                                                     0      0   100%
seldon_core/persistence.py                                                                                   45     23    49%
seldon_core/proto/__init__.py                                                                                 0      0   100%
seldon_core/proto/prediction_pb2.py                                                                         165      0   100%
seldon_core/proto/prediction_pb2_grpc.py                                                                    137     65    53%
seldon_core/proto/tensorflow/core/framework/__init__.py                                                       3      1    67%
seldon_core/proto/tensorflow/core/framework/resource_handle_pb2.py                                           22      0   100%
seldon_core/proto/tensorflow/core/framework/tensor_pb2.py                                                    36      0   100%
seldon_core/proto/tensorflow/core/framework/tensor_shape_pb2.py                                              18      0   100%
seldon_core/proto/tensorflow/core/framework/types_pb2.py                                                     69      0   100%
seldon_core/seldon_client.py                                                                                593    283    52%
seldon_core/seldon_methods.py                                                                               245     12    95%
seldon_core/serving_test_gen.py                                                                              40     40     0%
seldon_core/storage.py                                                                                       38     13    66%
seldon_core/user_model.py                                                                                   182     27    85%
seldon_core/utils.py                                                                                        321     57    82%
seldon_core/version.py                                                                                        1      0   100%
seldon_core/wrapper.py                                                                                      155     10    94%
-----------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                      5846   3032    48%


================== 387 passed, 5 skipped in 116.57s (0:01:56) ==================
tensorflow create: /workspace/source/python/.tox/tensorflow
tensorflow installdeps: -r/workspace/source/python/requirements-dev.txt
tensorflow inst: /workspace/source/python/.tox/.tmp/package/1/seldon-core-1.6.0.dev0.zip
tensorflow installed: absl-py==0.11.0,appdirs==1.4.4,astunparse==1.6.3,attrs==20.3.0,black==20.8b1,cachetools==4.2.0,certifi==2020.12.5,chardet==4.0.0,click==7.1.2,coverage==5.3,distlib==0.3.1,filelock==3.0.12,flake8==3.8.1,Flask==1.1.2,Flask-Cors==3.0.9,Flask-OpenTracing==1.1.0,flatbuffers==1.12,gast==0.3.3,google-auth==1.24.0,google-auth-oauthlib==0.4.2,google-pasta==0.2.0,grpcio==1.34.0,grpcio-opentracing==1.1.4,grpcio-reflection==1.34.0,grpcio-tools==1.33.2,gunicorn==20.0.4,h5py==2.10.0,idna==2.10,importlib-metadata==2.1.1,iniconfig==1.1.1,itsdangerous==1.1.0,jaeger-client==4.3.0,Jinja2==2.11.2,jsonschema==3.2.0,Keras-Preprocessing==1.1.2,Markdown==3.3.3,MarkupSafe==1.1.1,mccabe==0.6.1,mypy==0.790,mypy-extensions==0.4.3,mypy-protobuf==1.22,numpy==1.18.5,oauthlib==3.1.0,opentracing==2.4.0,opt-einsum==3.3.0,packaging==20.8,pandas==1.2.0,pathspec==0.8.1,Pillow==8.1.0,pip-licenses==3.1.0,pluggy==0.13.1,prometheus-client==0.8.0,protobuf==3.14.0,PTable==0.9.2,py==1.10.0,pyasn1==0.4.8,pyasn1-modules==0.2.8,pycodestyle==2.6.0,pyflakes==2.2.0,pyparsing==2.4.7,pyrsistent==0.17.3,pytest==6.2.0,pytest-cov==2.10.1,python-dateutil==2.8.1,pytz==2020.5,PyYAML==5.3.1,redis==3.5.3,regex==2020.11.13,requests==2.25.1,requests-oauthlib==1.3.0,rsa==4.6,seldon-core @ file:///workspace/source/python/.tox/.tmp/package/1/seldon-core-1.6.0.dev0.zip,six==1.15.0,tenacity==6.2.0,tensorboard==2.4.0,tensorboard-plugin-wit==1.7.0,tensorflow==2.3.1,tensorflow-estimator==2.3.0,termcolor==1.1.0,threadloop==1.0.2,thrift==0.13.0,toml==0.10.2,tornado==6.1,tox==3.20.1,typed-ast==1.4.2,typing-extensions==3.7.4.3,urllib3==1.26.2,virtualenv==20.2.2,Werkzeug==1.0.1,wrapt==1.12.1,zipp==3.4.0
tensorflow run-test-pre: PYTHONHASHSEED='2540917691'
tensorflow run-test: commands[0] | pytest
============================= test session starts ==============================
platform linux -- Python 3.7.1, pytest-6.2.0, py-1.10.0, pluggy-0.13.1
cachedir: .tox/tensorflow/.pytest_cache
rootdir: /workspace/source/python, configfile: setup.cfg
plugins: cov-2.10.1
collected 392 items

tests/test_api_tester.py ..                                              [  0%]
tests/test_application_exception_microservice.py ..                      [  1%]
tests/test_combiner_microservice.py .....................                [  6%]
tests/test_flask_utils.py ...                                            [  7%]
tests/test_metadata.py ................................................. [ 19%]
...                                                                      [ 20%]
tests/test_metrics.py .................................................. [ 33%]
...................                                                      [ 38%]
tests/test_microservice.py .............                                 [ 41%]
tests/test_microservice_tester.py .....                                  [ 42%]
tests/test_model_microservice.py ....................................... [ 52%]
............                                                             [ 55%]
tests/test_router_microservice.py .................                      [ 59%]
tests/test_runtime_metrics_tags.py .........................             [ 66%]
tests/test_seldon_client.py ..................................           [ 75%]
tests/test_storage.py ......                                             [ 76%]
tests/test_transformer_microservice.py ................................. [ 84%]
........                                                                 [ 86%]
tests/test_user_model.py ....                                            [ 88%]
tests/test_utils.py ...............................................      [100%]

----------- coverage: platform linux, python 3.7.1-final-0 -----------
Name                                                                                                  Stmts   Miss  Cover
-------------------------------------------------------------------------------------------------------------------------
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/__init__.py                                       2      0   100%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/api_tester.py                                    70     70     0%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/app.py                                           49     31    37%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/batch_processor.py                              147    147     0%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/flask_utils.py                                   53     39    26%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/imports_helper.py                                11      4    64%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/metadata.py                                      32     11    66%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/metrics.py                                      139     77    45%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/microservice.py                                 210     83    60%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/microservice_tester.py                          140    140     0%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/mlmd_utils.py                                     0      0   100%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/persistence.py                                   45     23    49%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/proto/__init__.py                                 0      0   100%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/proto/prediction_pb2.py                         165      0   100%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/proto/prediction_pb2_grpc.py                    137     89    35%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/proto/tensorflow/core/framework/__init__.py       3      0   100%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/seldon_client.py                                593    593     0%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/seldon_methods.py                               245    223     9%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/serving_test_gen.py                              40     40     0%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/storage.py                                       38     28    26%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/user_model.py                                   182    129    29%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/utils.py                                        321    270    16%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/version.py                                        1      0   100%
.tox/tensorflow/lib/python3.7/site-packages/seldon_core/wrapper.py                                      155    123    21%
seldon_core/__init__.py                                                                                   2      0   100%
seldon_core/api_tester.py                                                                                70     29    59%
seldon_core/app.py                                                                                       49     31    37%
seldon_core/batch_processor.py                                                                          147    147     0%
seldon_core/flask_utils.py                                                                               53      6    89%
seldon_core/imports_helper.py                                                                            11      4    64%
seldon_core/metadata.py                                                                                  32      0   100%
seldon_core/metrics.py                                                                                  139      2    99%
seldon_core/microservice.py                                                                             210    122    42%
seldon_core/microservice_tester.py                                                                      140     43    69%
seldon_core/mlmd_utils.py                                                                                 0      0   100%
seldon_core/persistence.py                                                                               45     23    49%
seldon_core/proto/__init__.py                                                                             0      0   100%
seldon_core/proto/prediction_pb2.py                                                                     165      0   100%
seldon_core/proto/prediction_pb2_grpc.py                                                                137     65    53%
seldon_core/proto/tensorflow/core/framework/__init__.py                                                   3      0   100%
seldon_core/seldon_client.py                                                                            593    283    52%
seldon_core/seldon_methods.py                                                                           245     12    95%
seldon_core/serving_test_gen.py                                                                          40     40     0%
seldon_core/storage.py                                                                                   38     13    66%
seldon_core/user_model.py                                                                               182     27    85%
seldon_core/utils.py                                                                                    321     45    86%
seldon_core/version.py                                                                                    1      0   100%
seldon_core/wrapper.py                                                                                  155     10    94%
-------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                  5556   3022    46%


======================= 392 passed in 294.23s (0:04:54) ========================
___________________________________ summary ____________________________________
  py3: commands succeeded
  tensorflow: commands succeeded
  congratulations :)
make: Leaving directory '/workspace/source/python'

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-executor[0m and container [32mstep-credential-initializer-cqbvr[0m
{"level":"info","ts":1609778995.994855,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1609778995.9953141,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-executor[0m and container [32mstep-working-dir-initializer-x5m4p[0m
{"level":"info","ts":1609779000.8512654,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779000.8596606,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-executor[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-executor[0m and container [32mstep-create-dir-workspace-s67dc[0m
{"level":"info","ts":1609779013.033225,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779013.0351713,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-executor[0m and container [32mstep-source-copy-workspace-hzq72[0m
{"level":"info","ts":1609779013.9083796,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1609779015.9257653,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-executor[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2770-pr-4t6xs-5[0m stage [32mseldon-executor[0m and container [32mstep-test-executor[0m
make: Entering directory '/workspace/source/executor'
rm -rf _operator
cp -r ../operator _operator
go fmt ./api/... ./predictor/... ./k8s/... ./logger/...
go: downloading github.com/golang/protobuf v1.4.2
go: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1
go: downloading github.com/uber/jaeger-client-go v2.25.0+incompatible
go: downloading github.com/opentracing/opentracing-go v1.2.0
go: downloading sigs.k8s.io/controller-runtime v0.6.4
go: downloading github.com/pkg/errors v0.9.1
go: downloading google.golang.org/grpc v1.32.0
go: downloading github.com/cloudevents/sdk-go v1.2.0
go: downloading github.com/gorilla/mux v1.8.0
go: downloading k8s.io/api v0.18.8
go: downloading github.com/kedacore/keda v0.0.0-20200911122749-717aab81817f
go: downloading k8s.io/apimachinery v0.18.8
go: downloading github.com/ghodss/yaml v1.0.0
go: downloading github.com/prometheus/client_golang v1.7.1
go: downloading google.golang.org/protobuf v1.25.0
go: downloading gopkg.in/yaml.v2 v2.4.0
go: downloading google.golang.org/genproto v0.0.0-20200731012542-8145dea6a485
go: downloading github.com/go-logr/zapr v0.1.1
go: downloading github.com/grpc-ecosystem/go-grpc-middleware v1.2.1
go: downloading github.com/google/gofuzz v1.1.0
go: downloading github.com/go-logr/logr v0.1.0
go: downloading k8s.io/klog v1.0.0
go: downloading github.com/evanphx/json-patch v4.9.0+incompatible
go: downloading go.uber.org/zap v1.16.0
go: downloading github.com/beorn7/perks v1.0.1
go: downloading k8s.io/client-go v0.18.8
go: downloading knative.dev/pkg v0.0.0-20200911145400-2d4efecc6bc1
go: downloading sigs.k8s.io/yaml v1.2.0
go: downloading github.com/google/uuid v1.1.2
go: downloading k8s.io/apiextensions-apiserver v0.18.8
go: downloading github.com/prometheus/client_model v0.2.0
go: downloading github.com/prometheus/common v0.14.0
go: downloading github.com/gogo/protobuf v1.3.1
go: downloading go.opencensus.io v0.22.4
go: downloading github.com/cespare/xxhash v1.1.0
go: downloading github.com/spf13/pflag v1.0.5
go: downloading gomodules.xyz/jsonpatch/v2 v2.1.0
go: downloading go.uber.org/multierr v1.5.0
go: downloading github.com/confluentinc/confluent-kafka-go v1.4.2
go: downloading github.com/google/go-cmp v0.5.4
go: downloading github.com/cespare/xxhash/v2 v2.1.1
go: downloading k8s.io/utils v0.0.0-20200603063816-c1c6865ac451
go: downloading go.uber.org/atomic v1.6.0
go: downloading github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e
go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible
go: downloading github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac
go: downloading golang.org/x/net v0.0.0-20201202161906-c7110b5ffcbb
go: downloading golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f
go: downloading github.com/modern-go/reflect2 v1.0.1
go: downloading sigs.k8s.io/structured-merge-diff v1.0.1
go: downloading golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e
go: downloading github.com/googleapis/gnostic v0.4.0
go: downloading github.com/imdario/mergo v0.3.11
go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
go: downloading golang.org/x/crypto v0.0.0-20200728195943-123391ffb6de
go: downloading sigs.k8s.io/structured-merge-diff/v3 v3.0.1-0.20200706213357-43c19bbb7fba
go: downloading gopkg.in/inf.v0 v0.9.1
go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1
go: downloading k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
go: downloading golang.org/x/oauth2 v0.0.0-20200107190931-bf48bf16ab8d
go: downloading golang.org/x/text v0.3.3
go: downloading github.com/json-iterator/go v1.1.10
go: downloading github.com/davecgh/go-spew v1.1.1
go: downloading github.com/prometheus/procfs v0.1.3
go: downloading k8s.io/klog/v2 v2.0.0
go: downloading github.com/hashicorp/golang-lru v0.5.4
go: downloading github.com/fsnotify/fsnotify v1.4.9
api/util/utils_test.go
go vet ./api/... ./predictor/... ./k8s/... ./logger/...
go: downloading github.com/onsi/gomega v1.10.4
go: downloading gotest.tools v2.2.0+incompatible
go test ./api/... ./predictor/... ./k8s/... ./logger/... -coverprofile cover.out
?   	github.com/seldonio/seldon-core/executor/api	[no test files]
?   	github.com/seldonio/seldon-core/executor/api/client	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/grpc	0.476s	coverage: 18.0% of statements
?   	github.com/seldonio/seldon-core/executor/api/grpc/kfserving	[no test files]
?   	github.com/seldonio/seldon-core/executor/api/grpc/kfserving/inference	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/grpc/seldon	1.291s	coverage: 48.1% of statements
?   	github.com/seldonio/seldon-core/executor/api/grpc/seldon/proto	[no test files]
?   	github.com/seldonio/seldon-core/executor/api/grpc/seldon/test	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/grpc/tensorflow	0.161s	coverage: 19.0% of statements
ok  	github.com/seldonio/seldon-core/executor/api/kafka	0.159s	coverage: 1.2% of statements
ok  	github.com/seldonio/seldon-core/executor/api/metric	0.293s	coverage: 31.6% of statements
ok  	github.com/seldonio/seldon-core/executor/api/payload	0.091s	coverage: 64.3% of statements
ok  	github.com/seldonio/seldon-core/executor/api/rest	1.361s	coverage: 62.9% of statements
?   	github.com/seldonio/seldon-core/executor/api/test	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/tracing	0.234s	coverage: 72.2% of statements
ok  	github.com/seldonio/seldon-core/executor/api/util	0.100s	coverage: 38.0% of statements
ok  	github.com/seldonio/seldon-core/executor/predictor	0.195s	coverage: 68.3% of statements
ok  	github.com/seldonio/seldon-core/executor/k8s	0.145s	coverage: 72.7% of statements
?   	github.com/seldonio/seldon-core/executor/logger	[no test files]
make: Leaving directory '/workspace/source/executor'
