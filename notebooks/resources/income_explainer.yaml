apiVersion: machinelearning.seldon.io/v1
kind: SeldonDeployment
metadata:
  name: income-predictor
spec:
  name: income
  annotations:
    seldon.io/grpc-max-message-size: "10000000"
    seldon.io/rest-timeout: "100000"
    seldon.io/grpc-timeout: "100000"
  predictors:
  - componentSpecs:
    - spec:
        containers:
        - image: seldonio/sklearnserver_rest:0.2
          name: income-predictor-default
          resources:
            limits:
              cpu: "1"
              memory: 1Gi
            requests:
              cpu: 100m
              memory: 1Gi
          volumeMounts:
          - mountPath: /etc/podinfo
            name: podinfo
    explainer:
      modelUri: gs://seldon-models/sklearn/income/explainer
      type: AnchorTabular
    graph:
      endpoint:
        service_host: localhost
        service_port: 9000
        type: REST
      implementation: SKLEARN_SERVER
      modelUri: gs://seldon-models/sklearn/income/model
      name: income-predictor-default
      type: UNKNOWN_TYPE
    name: default
    replicas: 1
