* directory for the scripts

    cd .../seldon-core/examples/cicd-argocd

* Create cluster, at least Kubernetes 10

* Have "helm", "argo", "argocd" installed

* (if gcp) create-user-cluster-admin-binding

    kubectl create clusterrolebinding user-cluster-admin-binding --clusterrole=cluster-admin --user=$(gcloud config get-value account)

* Create "settings.sh" using "settings.sh.example"

* Install helm

    ./seldon-core/install-helm

* Start all

    ./start-all

* Check rollout status of all deployments

    ./watch-rollout-status

* Create tmux windows

    # NOT FROM ANOTHER TMUX SESSION!
    ./create-demo-tmux-session

* Manually test argo jobs

    ./argo/wf-run-build-image-and-push M01
    ./argo/wf-run-build-image-and-push M02

* Check images in the private registry

    ./k8s-local-docker-registry/registry-images-list
    ./k8s-local-docker-registry/registry-tags-list "gsunner/simple-model"


* Setup argocd

    # get cmd-line login details, and use to login
    ./argocd/get-argocd-cmd-line-login

    # add current cluster to list
    ./argocd/argocd-cluster-add
    ./argocd/argocd-cluster-list

    # create app
    ./argocd/argocd-app-create

    # get browser login details, and use to login
    ./argocd/get-argocd-browser-login

* Setup Jenkins

    # get initial browser login details, and use top login
    ./jenkins/get-jenkins-browser-login

    IMPORTANT: fix any plugin issues, eg. update pipeline-job plugin if necessary and Reboot

    Install "Github" jenkins plugin
    Manage jenkins->Manage Plugins->Available
        Find the "Github" plugin
        Install without restart

    Manage Jenkins->Configure Global Security
        Security Realm->Jenkinsâ€™ own user database
            - "Allow users to sign up"

    create a user:
        id: drone
        password: drone

* Import Jenkins jobs

    ./jenkins/import-jobs

* Run the jenkins jobs to test

* Create Github Webhooks

    # For CI, add webhook to "cicd-demo-model-source-files" repo
    # get the webhook details to use
    ./jenkins/get-jenkins-github-webhook-details

    # For CD, add webhook to "cicd-demo-k8s-manifest-files" repo
    # get the webhook details to use
    ./argocd/get-argocd-github-webhook-details



Clean Up

* Remove webhooks

    # For CI, remove webhook from "cicd-demo-model-source-files" repo
    # For CD, remove webhook from "cicd-demo-k8s-manifest-files" repo

* Stop all

    ./stop-all

* Remove helm

    ./seldon-core/remove-helm

