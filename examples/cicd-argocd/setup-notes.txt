* directory for the scripts

    cd .../seldon-core/examples/cicd-argocd

* Create cluster, at least Kubernetes 10

* have "helm", "argo", "argocd" installed

* (if gcp) create-user-cluster-admin-binding

kubectl create clusterrolebinding user-cluster-admin-binding --clusterrole=cluster-admin --user=$(gcloud config get-value account)


* Install helm

    ./seldon-core/install-helm

* start all

    ./start-all

* check rollout status of all deployments

    ./watch-rollout-status

* create tmux windows

    # NOT FROM ANOTHER TMUX SESSION!
    ./create-demo-tmux-session

* Manually test argo jobs

    ./argo/wf-run-build-image-and-push M01
    ./argo/wf-run-build-image-and-push M02

* check images in the private registry

    ./k8s-local-docker-registry/registry-images-list
    ./k8s-local-docker-registry/registry-tags-list "gsunner/simple-model"


* Setup argocd

    # make a note of the admin password
    ./argocd/get-initial-admin-password

    argocd login <EXTERNAL-IP>
        user: admin
        password: see admin password

    ./argocd/argocd-cluster-add
    ./argocd/argocd-cluster-list

    # create app
    ./argocd/argocd-app-create

    # get argocd-server url and login in browser
    ./argocd/get-argocd-server-url

* Setup Jenkins

    # make a note of the admin password (set to admin for the demo)
    ./jenkins/get-initial-admin-password

    # get jenkins url and login in browser
    ./jenkins/get-jenkins-url

    IMPORTANT: fix any plugin issues, eg. update pipeline-job plugin if necessary and Reboot

    Manage Jenkins->Configure Global Security
        Security Realm->Jenkinsâ€™ own user database
            - "Allow users to sign up"

    create a user:
        id: drone
        password: drone

* Import Jenkins jobs

    ./jenkins/import-jobs





Clean Up

* Remove helm

    ./seldon-core/remove-helm
