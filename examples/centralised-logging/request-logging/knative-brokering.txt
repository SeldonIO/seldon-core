First install eventing.

Then in-memory channel provisioner.

kubectl apply -f https://raw.githubusercontent.com/knative/eventing/master/config/provisioners/in-memory-channel/in-memory-channel.yaml

(Try in-mem as with kafka am hitting hitting https://github.com/knative/eventing/issues/1383)

Create broker following knative.dev/docs/eventing/broker-trigger/

Create service:

kubectl apply -f https://raw.githubusercontent.com/knative/docs/master/docs/eventing/samples/container-source/service.yaml

And trigger:

kubectl apply -f ./trigger.yaml