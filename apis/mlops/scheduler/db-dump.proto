syntax = "proto3";

package seldon.mlops.scheduler.dbdump;

option go_package = "github.com/seldonio/seldon-core/apis/go/v2/mlops/scheduler/dbdump";

import "mlops/scheduler/db/db.proto";

message DatabaseDumpRequest {
  enum DatabaseDumpRecords {
    DUMP_UNKNOWN = 0;
    DUMP_ALL = 1;
    DUMP_MODELS = 2;
    DUMP_SERVERS = 3;
  }
  DatabaseDumpRecords action = 1;
}

message DatabaseDumpResponse {
  repeated db.Model model = 1;
  repeated db.Server server = 2;
}


service DatabaseService {
  rpc DumpDatabase(DatabaseDumpRequest) returns (DatabaseDumpResponse) {};
}