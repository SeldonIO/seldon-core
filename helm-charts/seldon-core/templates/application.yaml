{{- if .Values.application.enabled }}
---
apiVersion: app.k8s.io/v1alpha1
kind: Application
metadata:
  name: "{{ .Release.Name }}"
  namespace: "{{ .Release.Namespace }}"
  annotations:
    kubernetes-engine.cloud.google.com/icon: >-
      data:image/png;base64,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
    marketplace.cloud.google.com/deploy-info: '{partner_id: "seldon", product_id: "seldon-core", partner_name: "SELDON"}'
  labels:
    app.kubernetes.io/name: "{{ .Release.Name }}"
spec:
  type: Seldon-Core
  version: '{{ .Chart.Version }}'
  description: |-
    Machine learning deployment

    # Support
    Visit [Seldon-Core on Github](https://github.com/SeldonIO/seldon-core).
  maintainers:
  - name: Seldon
    url: https://seldon.io
    email: dev@seldon.io
  links:
  - description: Getting Started
    url: https://github.com/SeldonIO/seldon-core
  selector:
    matchLabels:
      app.kubernetes.io/name: "{{ .Release.Name }}"
  componentKinds:
  - group: extensions/v1beta1
    kind: Deployment
  - group: v1
    kind: Service
{{- end }}
